<table mat-table [dataSource]="tagList" multiTemplateDataRows class="mat-elevation-z8"
       style="width: 100%;">

  <!-- Name Column -->
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef> Tags</th>
    <td mat-cell *matCellDef="let element"> {{element.name}} </td>
  </ng-container>

  <!-- Template for details row -->
  <ng-container matColumnDef="expandedDetail">
    <td mat-cell *matCellDef="let element" [attr.colspan]="defaultColumns.length">
      <div class="dependency-container dependency-element-detail" [@detailExpand]="element.isExpanded ? 'expanded' : 'collapsed'">

        <div>
          <table *ngIf="dependencyList && dependencyList.length" mat-table [dataSource]="dependencyList"
                 multiTemplateDataRows class="mat-elevation-z8" style="width: 100%;">

            <!-- Name Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef> Dependency</th>
              <td mat-cell *matCellDef="let element"> {{element.name}} </td>
            </ng-container>

            <!-- Provider Column -->
            <ng-container matColumnDef="provider">
              <th mat-header-cell *matHeaderCellDef> Provider</th>
              <td mat-cell *matCellDef="let element"> {{element.provider}} </td>
            </ng-container>

            <!-- URL Column -->
            <ng-container matColumnDef="url">
              <th mat-header-cell *matHeaderCellDef> URL</th>
              <td mat-cell *matCellDef="let element"><a [href]=element.url>{{element.url}}</a></td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="dependencyColumns;sticky: true"></tr>
            <tr mat-row *matRowDef="let element; columns: dependencyColumns;" class="dependency-element-row"></tr>
          </table>
        </div>

      </div>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="defaultColumns;sticky: true"></tr>
  <tr mat-row *matRowDef="let element; columns: defaultColumns;" (click)="getDependencies(element)"
      class="dependency-element-row"
      [class.student-expanded-row]="element.isExpanded"></tr>
  <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="dependency-detail-row"></tr>
</table>
